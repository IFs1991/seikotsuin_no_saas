# æ•´éª¨é™¢ç®¡ç†SaaS ãƒ‡ãƒ—ãƒ­ã‚¤ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

## ðŸš€ æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™

### âœ… 1. Supabaseè¨­å®š

- [ ] Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒžé©ç”¨ï¼ˆé †åºé‡è¦ï¼‰:
  - [ ] `src/database/schemas/01_core_tables.sql`
  - [ ] `src/database/schemas/05_session_management.sql`
  - [ ] `src/database/schemas/06_mfa_tables.sql`
  - [ ] `src/lib/database/csp-violations-schema.sql`
  - [ ] `src/lib/database/security-alerts-schema.sql`
  - [ ] `src/lib/database/csp-alert-functions.sql`
- [ ] Row Level Security (RLS) æœ‰åŠ¹åŒ–
- [ ] èªè¨¼è¨­å®šï¼ˆEmail + Passwordæœ‰åŠ¹åŒ–ï¼‰
- [ ] URLãƒ»ANON KEYãƒ»SERVICE ROLE KEYå–å¾—

### âœ… 2. Upstash Redisè¨­å®š

- [ ] Upstashã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
- [ ] Redisãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆï¼ˆRegion: Asia PacificæŽ¨å¥¨ï¼‰
- [ ] REST URLãƒ»TOKENå–å¾—
- [ ] æŽ¥ç¶šãƒ†ã‚¹ãƒˆå®Œäº†

### âœ… 3. Vercelè¨­å®š

- [ ] Vercelã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [ ] GitHubãƒªãƒã‚¸ãƒˆãƒªé€£æº
- [ ] ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆ`.env.production.example`å‚ç…§ï¼‰
- [ ] ãƒ“ãƒ«ãƒ‰è¨­å®šç¢ºèªï¼ˆ`vercel.json`ï¼‰
- [ ] ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### âœ… 4. ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆVercel Dashboardï¼‰

```
å¿…é ˆå¤‰æ•°:
- NEXT_PUBLIC_SUPABASE_URL
- NEXT_PUBLIC_SUPABASE_ANON_KEY
- SUPABASE_SERVICE_ROLE_KEY
- UPSTASH_REDIS_REST_URL
- UPSTASH_REDIS_REST_TOKEN
- CSP_ROLLOUT_PHASE=full-enforce
- NODE_ENV=production
- NEXTAUTH_URLï¼ˆVercelãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰
- NEXTAUTH_SECRETï¼ˆ32æ–‡å­—ä»¥ä¸Šï¼‰
- NEXT_PUBLIC_DEFAULT_CLINIC_ID

ã‚ªãƒ—ã‚·ãƒ§ãƒ³å¤‰æ•°:
- GOOGLE_AI_API_KEYï¼ˆAIãƒãƒ£ãƒƒãƒˆç”¨ï¼‰
- SLACK_WEBHOOK_URLï¼ˆé€šçŸ¥ç”¨ï¼‰
```

### âœ… 5. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šç¢ºèª

- [ ] CSPãƒãƒªã‚·ãƒ¼ï¼šMedical-Gradeãƒ¬ãƒ™ãƒ«
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ï¼šå…¨ã¦æœ‰åŠ¹
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼šUpstash Redisé€£æº
- [ ] MFAï¼šTOTPèªè¨¼å¯¾å¿œ
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ï¼šãƒžãƒ«ãƒãƒ‡ãƒã‚¤ã‚¹åˆ¶å¾¡

### âœ… 6. æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

- [ ] ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³ãƒ»èªè¨¼ãƒ•ãƒ­ãƒ¼
- [ ] MFAã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ»ãƒ­ã‚°ã‚¤ãƒ³
- [ ] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤ºãƒ»ãƒ‡ãƒ¼ã‚¿å–å¾—
- [ ] CSPãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£è¦–
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™å‹•ä½œç¢ºèª
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãƒ»ãƒ‡ãƒã‚¤ã‚¹åˆ¶å¾¡

### âœ… 7. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ç¢ºèª

- [ ] Lighthouse Score > 90
- [ ] Core Web Vitalsè‰¯å¥½
- [ ] APIå¿œç­”æ™‚é–“ < 500ms
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¤œè¨¼ < 50ms
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªæœ€é©åŒ–

### âœ… 8. æœ€çµ‚ãƒã‚§ãƒƒã‚¯

- [ ] ã‚¨ãƒ©ãƒ¼ç›£è¦–è¨­å®šï¼ˆVercel Analyticsï¼‰
- [ ] ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®šï¼ˆSupabaseï¼‰
- [ ] SSLè¨¼æ˜Žæ›¸ç¢ºèª
- [ ] GDPRãƒ»åŒ»ç™‚æƒ…å ±ä¿è­·æ³•å¯¾å¿œç¢ºèª
- [ ] é‹ç”¨ãƒžãƒ‹ãƒ¥ã‚¢ãƒ«æº–å‚™

## ðŸŽ¯ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: ç’°å¢ƒæº–å‚™

1. Supabase + Upstash Redisè¨­å®šå®Œäº†
2. Vercelãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ»ç’°å¢ƒå¤‰æ•°è¨­å®š
3. GitHubãƒªãƒã‚¸ãƒˆãƒªæº–å‚™

### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ“ãƒ«ãƒ‰ç¢ºèª
npm run build

# Vercel CLIä½¿ç”¨æ™‚
npx vercel --prod

# ã¾ãŸã¯Git pushã§ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤è‡ªå‹•å®Ÿè¡Œ
git push origin main
```

### ã‚¹ãƒ†ãƒƒãƒ—3: æœ¬ç•ªç¢ºèª

1. ã‚¢ã‚¯ã‚»ã‚¹ãƒ»åŸºæœ¬æ©Ÿèƒ½ç¢ºèª
2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
4. ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆå‹•ä½œç¢ºèª

## ðŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼**: TypeScriptã‚¨ãƒ©ãƒ¼ãƒ»ç’°å¢ƒå¤‰æ•°ä¸è¶³
2. **SupabaseæŽ¥ç¶šã‚¨ãƒ©ãƒ¼**: URLãƒ»KEYè¨­å®šãƒŸã‚¹
3. **RedisæŽ¥ç¶šã‚¨ãƒ©ãƒ¼**: Upstashè¨­å®šãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å•é¡Œ
4. **CSPé•å**: å¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹èª­ã¿è¾¼ã¿ãƒ»nonceè¨­å®šå•é¡Œ

### è§£æ±ºæ‰‹é †

1. Vercelãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ç¢ºèª
2. ç’°å¢ƒå¤‰æ•°è¨­å®šãƒ»åž‹ãƒã‚§ãƒƒã‚¯
3. Supabaseãƒ»Upstashãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç¢ºèª
4. ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®å†ç¾ãƒ†ã‚¹ãƒˆ

## ðŸ“Š ç›£è¦–ãƒ»é‹ç”¨

### ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–

- Vercel Analytics: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ãƒ»ã‚¨ãƒ©ãƒ¼çŽ‡
- Supabase Dashboard: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½¿ç”¨çŠ¶æ³
- Upstash Console: Redisä½¿ç”¨çŠ¶æ³ãƒ»ãƒ¬ãƒ¼ãƒˆåˆ¶é™çµ±è¨ˆ

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£è¦–

- CSPãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è„…å¨æ¤œçŸ¥
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ©ãƒ¼ãƒˆ: é«˜é‡è¦åº¦é•åé€šçŸ¥
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†: ä¸å¯©ãªã‚¢ã‚¯ã‚»ã‚¹æ¤œçŸ¥

**âœ… å…¨ãƒã‚§ãƒƒã‚¯å®Œäº†å¾Œã€æœ¬ç•ªé‹ç”¨é–‹å§‹å¯èƒ½ã§ã™ï¼**
