# 機能棚卸し一覧

更新日: 2025-02-14

## サマリー
- 実データ連携中心: 予約(新規/詳細/登録), 日報管理, 患者分析, マスターデータ, リソース/メニュー管理, Block(販売停止)
- 部分的にモック/固定値: ダッシュボード, 収益分析
- モック中心/未実装: AIインサイト, スタッフ管理, マルチ店舗, チャット, 管理者ダッシュボード, 予約タイムライン/一覧

## 機能一覧(状態別)

### 実データ連携中心
- 認証/プロフィール取得
  - フロント: `src/hooks/useUserProfile.ts`, `src/providers/user-profile-context.tsx`
  - API: `src/app/api/auth/profile/route.ts`
- 日報管理(一覧/入力/編集)
  - フロント: `src/app/daily-reports/page.tsx`, `src/app/daily-reports/input/page.tsx`, `src/app/daily-reports/edit/[id]/page.tsx`
  - API: `src/app/api/daily-reports/route.ts`
- 患者分析
  - フロント: `src/app/patients/page.tsx`, `src/hooks/usePatientAnalysis.ts`
  - API: `src/app/api/patients/route.ts`
- 予約(新規/登録/詳細)
  - フロント: `src/app/reservations/new/page.tsx`, `src/components/reservations/reservation-form.tsx`, `src/app/reservations/register/page.tsx`, `src/app/reservations/[id]/page.tsx`
  - API: `src/app/api/reservations/route.ts`
- 予約マスタ(メニュー/リソース)
  - フロント: `src/app/reservations/settings/menus/page.tsx`, `src/app/reservations/settings/resources/page.tsx`
  - API: `src/app/api/menus/route.ts`, `src/app/api/resources/route.ts`
- マスターデータ管理
  - フロント: `src/app/master-data/page.tsx`, `src/hooks/useMasterData.ts`
  - API: `src/app/api/admin/master-data/route.ts`
- Block(販売停止)
  - フロント: `src/app/blocks/page.tsx`
  - Service: `src/lib/services/block-service.ts`

### 部分的にモック/固定値
- ダッシュボード
  - フロント: `src/app/dashboard/page.tsx`, `src/hooks/useDashboard.ts`
  - API: `src/app/api/dashboard/route.ts`
  - 状態: KPI取得は実データ, チャート/ヒートマップ/ウィジェットは準備中
- 収益分析
  - フロント: `src/app/revenue/page.tsx`, `src/hooks/useRevenue.ts`
  - API: `src/app/api/revenue/route.ts`
  - 状態: 一部固定値/簡易算出, API側に未実装項目あり

### モック中心/未実装
- AIインサイト
  - フロント: `src/app/ai-insights/page.tsx`
  - 状態: モックデータ
- スタッフ管理
  - フロント: `src/app/staff/page.tsx`, `src/hooks/useStaffAnalysis.ts`
  - 状態: モックデータ, シフト最適化は開発中表示
- マルチ店舗分析
  - フロント: `src/app/multi-store/page.tsx`, `src/hooks/useMultiStore.ts`
  - 状態: モックデータ
- チャット
  - フロント: `src/app/chat/page.tsx`
  - 状態: UIのみ(送信/履歴など未接続)
- 管理者ダッシュボード
  - フロント: `src/app/admin/(protected)/page.tsx`, `src/components/dashboard/admin-dashboard.tsx`
  - 状態: ダミーデータ
- 予約タイムライン/一覧
  - フロント: `src/app/reservations/page.tsx`, `src/app/reservations/list/page.tsx`
  - 状態: モック混在(`src/lib/feature-flags.ts` の `NEXT_PUBLIC_ENABLE_MOCKS` で切替)

### セキュリティ/管理系(実装あり・運用前提の検証は未実施)
- CSPレポート
  - API: `src/app/api/security/csp-report/route.ts`
- MFA
  - API: `src/app/api/mfa/*`
- セキュリティ統計/監視
  - API: `src/app/api/admin/security/*`
  - 画面: `src/app/admin/(protected)/security-dashboard/page.tsx`

## 補足
- 予約関連は new と register でフォームが二重化しているため, 将来的に統合候補
- 予約タイムライン/一覧はモック表示が残っているため, MVP対象ならモック無効化やAPI整合が必要
